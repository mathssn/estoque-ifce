{% extends 'base.html' %}

{% block content %}


<div class="container py-4">
  <div class="page-title mb-4">
    <h2 class="fw-bold border-bottom pb-2">
      Registro do dia {{ data_inicio | format_date }} a {{ data_fim | format_date }}
    </h2>
  </div>
</div>


<div class="container py-4">
<form action="{{ url_for('registro_refeicao.registro_refeicao_periodo') }}" method="post">    
<div class="card mb-3 shadow" style="border: 0px; border-radius: 15px;">
  <div class="card-body d-flex justify-content-between align-items-center">
        <input type="date" id="data_inicio" name="data_inicio" value="{{ data_inicio.isoformat() }}" class="form-control w-auto">
        <input type="date" id="data_fim" name="data_fim" value="{{ data_fim.isoformat() }}" class="form-control w-auto">
        <button class="btn btn-primary" type="submit">Pesquisar</button>
    </div>
</div>
</form>
</div>


<div class="container mt-5">
<div class="card mb-3 shadow" style="border: 0px; padding: 30px; border-radius: 15px;">
  <div class="card-body">
    <div class="table-responsive">

        <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">Refeição</th>
                <th scope="col">Aluno</th>
                <th scope="col">Servidor</th>
                <th scope="col">Terceirizado</th>
                <th scope="col">Outros</th>
                <th scope="col">Total</th>
            </tr>
        </thead>
        
        <tbody>

            {% for refeicao_nome, dados in refeicoes_dict.items() %}
                <tr>
                    <td>{{ refeicao_nome }}</td>
                    <td>{{ dados.get('qntd_aluno') }}</td>
                    <td>{{ dados.get('qntd_servidores') }}</td>
                    <td>{{ dados.get('qntd_terceirizados') }}</td>
                    <td>{{ dados.get('qntd_outros') }}</td>
                    <td>{{ dados.get('total') }}</td>
                </tr>
            {% endfor %}
            <tr>
                <td>Total</td>
                <td>{{ qntd_p_publico.get('aluno') }}</td>
                <td>{{ qntd_p_publico.get('servidores') }}</td>
                <td>{{ qntd_p_publico.get('terceirizados') }}</td>
                <td>{{ qntd_p_publico.get('outros') }}</td>
                <td>{{ qntd_p_publico.get('total') }}</td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
</div>


{% endblock %}